(this["webpackJsonphex-grid"]=this["webpackJsonphex-grid"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),r=n(11),a=n.n(r),s=n(9),c=n(7),u=Object(c.b)({name:"color",initialState:{hue:300,saturation:50,lightness:40},reducers:{adjustHue:function(e,t){var n=e.hue+t.payload%360;n<0?n+=360:n>360&&(n-=360),e.hue=n},adjustSaturation:function(e,t){e.saturation=Math.min(100,Math.max(0,e.saturation+t.payload))},adjustLightness:function(e,t){e.lightness=Math.min(100,Math.max(0,e.lightness+t.payload))}}}),l=u.actions,h=(l.adjustHue,l.adjustSaturation,l.adjustLightness,u.reducer),d=n(20);function f(e){return Object(d.b)({orientation:"flat",size:e,offset:-1})}function v(e){return e().corners().map((function(e){var t=e.x,n=e.y;return"".concat(t,", ").concat(n)})).join(" ")}function m(){document.documentElement.style.setProperty("--vh","".concat(.01*window.innerHeight,"px"));var e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,n=Math.min(e,t),i=72;n<=640?i=36:n<=768?i=48:n<=1024&&(i=60);var o=f(i),r=i*Math.sqrt(3),a=2*i,s=Math.floor(e/(.75*a))+2,c=Math.floor(t/r)+3,u={x:Math.floor(s/2),y:Math.floor(c/2)},l={screenDimensions:{height:t,width:e},gridDimensions:{height:c,width:s},cellDimensions:{height:r,width:a},cellPointsString:v(o),baseHexSize:i,centerCoord:u};return console.debug("Calculated dimensions",{screen:l.screenDimensions,grid:l.gridDimensions,cell:l.cellDimensions}),l}var b=Object(c.b)({name:"hexGrid",initialState:m(),reducers:{resize:function(e){var t=m();e.screenDimensions=t.screenDimensions,e.gridDimensions=t.gridDimensions,e.cellDimensions=t.cellDimensions,e.cellPointsString=t.cellPointsString,e.centerCoord=t.centerCoord,e.baseHexSize=t.baseHexSize}}}),j=(b.actions.resize,b.reducer),g=Object(c.a)({reducer:{color:h,hexGrid:j}});function y(e,t,n){var i=(n[1]-n[0])/(t[1]-t[0]),o=Math.min(t[1],Math.max(t[0],e))-t[0];return n[0]+o*i}function p(e,t,n){return Math.max(t,Math.min(n,e))}n(33);var x=n(2),w=s.c,C=(n(34),n(1));var O=function(e){var t,n,o=w((function(e){return e.hexGrid.gridDimensions})),r=w((function(e){return e.hexGrid.centerCoord})),a=w((function(e){return e.hexGrid.cellPointsString})),s=w((function(e){return e.color.hue})),c=w((function(e){return e.color.saturation})),u=w((function(e){return e.color.lightness})),l=Object(i.useMemo)((function(){return function(e,t,n){var i=72;return t.width<=8&&(i=48),Math.round(y(n.q,[0,t.width],[e-i,e+i]))}(s,o,e.hex)}),[s,o,e.hex]),h=Object(i.useMemo)((function(){return function(e,t,n){var i=15;t.height<=8&&(i=10);var o=y(n.s,[-t.height,t.height],[e-i,e+i]);return Math.round(p(o,0,100))}(c,o,e.hex)}),[c,o,e.hex]),d=Object(i.useMemo)((function(){return function(e,t,n){var i=15;(t.width<=8||t.height<=8)&&(i=10);var o=y(n.r,[-t.height,t.height],[e+i,e-i]);return Math.round(p(o,0,100))}(u,o,e.hex)}),[u,o,e.hex]),f=Object(i.useMemo)((function(){return"hsl(".concat(l,", ").concat(h,"%, ").concat(d,"%)")}),[l,h,d]),v=f,m=1,b=.15;t=r,(n=e.hex).x===t.x&&n.y===t.y&&(m=2,b=.5,v="black");var j=e.hex.toPoint(),g=j.x,x=j.y,O="translate(".concat(g,", ").concat(x,")");return Object(C.jsx)("g",{transform:O,children:Object(C.jsx)("polygon",{points:a,fill:f,stroke:v,strokeOpacity:b,strokeWidth:m})})};var L=function(){var e=w((function(e){return e.hexGrid.screenDimensions})),t=w((function(e){return e.hexGrid.gridDimensions})),n=w((function(e){return e.hexGrid.cellDimensions})),o=w((function(e){return e.hexGrid.centerCoord})),r=w((function(e){return e.hexGrid.baseHexSize})),a=Object(i.useMemo)((function(){return function(e,t,n){var i=f(n),o=Object(d.a)(i).rectangle({width:e.width,height:e.height}),r=o.indexOf(t);if(-1!==r){var a=o.splice(r,1)[0];o.push(a)}return o}(t,o,r)}),[t,o,r]),s=Object(i.useMemo)((function(){return a.map((function(e){return Object(C.jsx)(O,{hex:e},function(e){return"".concat(e.q,"~").concat(e.r,"~").concat(e.s)}(e))}))}),[a]),c=a[a.length-1].toPoint(),u=e.height/2-c.y-n.height/2,l={position:"relative",left:e.width/2-c.x-n.width/2,top:u,overflow:"visible",userSelect:"none"};return Object(C.jsx)("svg",{style:l,children:s})},q=(n(36),n(14)),T=n(15);function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=new OscillatorNode(e,{type:"square"}),i=new OscillatorNode(e,{type:"sawtooth"}),o=new OscillatorNode(e,{type:"sine"});if(n.frequency.setValueAtTime(440,e.currentTime),i.frequency.setValueAtTime(440,e.currentTime),o.frequency.setValueAtTime(440,e.currentTime),void 0!==t){var r=Math.pow(2,1/12);n.detune.setValueAtTime(r*t,e.currentTime),i.detune.setValueAtTime(r*t,e.currentTime),o.detune.setValueAtTime(r*t,e.currentTime)}return{square:n,sawtooth:i,sine:o}}function G(e,t){var n=new GainNode(e),i=new GainNode(e),o=new GainNode(e);return n.gain.setValueAtTime(1,e.currentTime),i.gain.setValueAtTime(1,e.currentTime),o.gain.setValueAtTime(1,e.currentTime),t.square.connect(n),t.sawtooth.connect(i),t.sine.connect(o),{square:n,sawtooth:i,sine:o}}function N(e,t){var n=new ChannelMergerNode(e,{numberOfInputs:3,channelCount:1});return t.square.connect(n),t.sawtooth.connect(n),t.sine.connect(n),n}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=A(e,t),i=G(e,n),o=N(e,i),r=new GainNode(e);return o.connect(r),{oscillators:n,oscillatorGains:i,output:r}}function F(e,t,n){if(null!==e&&t&&Array.isArray(t.real)&&Array.isArray(t.imag)){for(var i=new PeriodicWave(e,{real:t.real,imag:t.imag}),o=arguments.length,r=new Array(o>3?o-3:0),a=3;a<o;a++)r[a-3]=arguments[a];for(var s=0,c=r;s<c.length;s++){var u=c[s];if(null!==u)switch(n){case"square":u.oscillators.square.setPeriodicWave(i);break;case"sawtooth":u.oscillators.sawtooth.setPeriodicWave(i);break;case"sine":u.oscillators.sine.setPeriodicWave(i)}}}}function k(e,t,n,i){e.gain.setValueAtTime(n,i),t.gain.setValueAtTime(1-n,i)}var M=function(){function e(t,n,i){Object(q.a)(this,e),this.hue=t,this.saturation=n,this.lightness=i,this.structureInitialized=!1,this.audioContext=null,this.baseFrequencyChain=null,this.thirdFrequencyChain=null,this.fifthFrequencyChain=null,this.lfoChain=null,this.reverbChain=null,this.lfoFrequency=15,this.lfoGain=.25,this.reverbGain=0,this.overallVolumeGainNode=null,this.overallVolumeGain=.1}return Object(T.a)(e,[{key:"initializeAudioStructure",value:function(){var e=this;if(!this.structureInitialized){null===this.audioContext&&(this.audioContext=new AudioContext),this.baseFrequencyChain=S(this.audioContext),this.thirdFrequencyChain=S(this.audioContext,4),this.fifthFrequencyChain=S(this.audioContext,7);var t=new ChannelMergerNode(this.audioContext,{numberOfInputs:3,channelCount:1});this.baseFrequencyChain.output.connect(t),this.thirdFrequencyChain.output.connect(t),this.fifthFrequencyChain.output.connect(t),this.lfoChain=function(e,t,n){var i=new OscillatorNode(e,{type:"sine"});i.frequency.setValueAtTime(t,e.currentTime);var o=new GainNode(e);i.connect(o);var r=new ConstantSourceNode(e),a=new GainNode(e);r.connect(a);var s=new ChannelMergerNode(e,{numberOfInputs:2,channelCount:1});o.connect(s),a.connect(s);var c=new GainNode(e);return s.connect(c.gain),k(o,a,n,e.currentTime),{oscillator:i,oscillatorGain:o,constantGain:a,lfoOutput:c}}(this.audioContext,this.lfoFrequency,this.lfoGain),t.connect(this.lfoChain.lfoOutput),this.reverbChain=function(e,t,n){var i=new ConvolverNode(e),o=new GainNode(e);i.connect(o);var r=new GainNode(e),a=new ChannelMergerNode(e,{numberOfInputs:2,channelCount:1});return o.connect(a),r.connect(a),n.connect(i),n.connect(r),k(o,r,t,e.currentTime),{reverbConvolver:i,wetGain:o,dryGain:r,reverbOutput:a}}(this.audioContext,this.reverbGain,this.lfoChain.lfoOutput),this.overallVolumeGainNode=new GainNode(this.audioContext),this.overallVolumeGainNode.gain.setValueAtTime(this.overallVolumeGain,this.audioContext.currentTime),this.reverbChain.reverbOutput.connect(this.overallVolumeGainNode),this.overallVolumeGainNode.connect(this.audioContext.destination),this.structureInitialized=!0,fetch("/hex-grid/assets/google/wavetable_08_Warm_Square").then((function(e){return e.json()})).then((function(t){F(e.audioContext,t,"square",e.baseFrequencyChain,e.thirdFrequencyChain,e.fifthFrequencyChain)})).catch((function(e){console.error("error retrieving square wavetable",e)})),fetch("/hex-grid/assets/google/wavetable_06_Warm_Saw").then((function(e){return e.json()})).then((function(t){F(e.audioContext,t,"sawtooth",e.baseFrequencyChain,e.thirdFrequencyChain,e.fifthFrequencyChain)})).catch((function(e){console.error("error retrieving saw wavetable",e)})),fetch("/hex-grid/assets/google/wavetable_Celeste").then((function(e){return e.json()})).then((function(t){F(e.audioContext,t,"sine",e.baseFrequencyChain,e.thirdFrequencyChain,e.fifthFrequencyChain)})).catch((function(e){console.error("error retrieving sine wavetable",e)})),fetch("/hex-grid/assets/google/impulse-responses_matrix-reverb6.wav").then((function(e){return e.arrayBuffer()})).then((function(t){return e.audioContext.decodeAudioData(t)})).then((function(t){e.reverbChain&&(console.debug("reverb chain initialized"),e.reverbChain.reverbConvolver.buffer=t)})).catch((function(e){console.error("error retrieving reverb data",e)}))}}},{key:"cascadeHueToAudioNodes",value:function(){if(null!==this.audioContext){var e=[0,1],t=[1,0],n=120,i=240,o=360,r=0,a=0,s=0;if(this.hue%120===0)switch(this.hue){case n:s=1;break;case i:a=1;break;case 0:case o:r=1}else if(this.hue%60===0)switch(this.hue){case 60:r=.5,s=.5;break;case 180:s=.5,a=.5;break;case 300:a=.5,r=.5}else this.hue<n?(r=y(this.hue,[0,n],t),s=y(this.hue,[0,n],e)):this.hue<i?(s=y(this.hue,[n,i],t),a=y(this.hue,[n,i],e)):this.hue<o&&(a=y(this.hue,[i,o],t),r=y(this.hue,[i,o],e));!function(e,t,n,i){for(var o=arguments.length,r=new Array(o>4?o-4:0),a=4;a<o;a++)r[a-4]=arguments[a];for(var s=0,c=r;s<c.length;s++){var u=c[s];null!==u&&(u.oscillatorGains.square.gain.setValueAtTime(e,i),u.oscillatorGains.sawtooth.gain.setValueAtTime(t,i),u.oscillatorGains.sine.gain.setValueAtTime(n,i))}}(r,s,a,this.audioContext.currentTime,this.baseFrequencyChain,this.thirdFrequencyChain,this.fifthFrequencyChain)}}},{key:"cascadeSaturationToAudioNodes",value:function(){var e,t;if(null!==this.audioContext){var n=p(this.saturation,0,100)/100;null===(e=this.thirdFrequencyChain)||void 0===e||e.output.gain.setValueAtTime(n,this.audioContext.currentTime),null===(t=this.fifthFrequencyChain)||void 0===t||t.output.gain.setValueAtTime(n,this.audioContext.currentTime)}}},{key:"cascadeLightnessToAudioNodes",value:function(){if(null!==this.audioContext){var e=y(p(this.lightness,0,100),[0,100],[-25,25]);!function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];for(var r=0,a=i;r<a.length;r++){var s=a[r];null!==s&&(s.oscillators.square.frequency.setValueAtTime(e,t),s.oscillators.sawtooth.frequency.setValueAtTime(e,t),s.oscillators.sine.frequency.setValueAtTime(e,t))}}(440*Math.pow(2,e/12),this.audioContext.currentTime,this.baseFrequencyChain,this.thirdFrequencyChain,this.fifthFrequencyChain)}}},{key:"play",value:function(){null===this.audioContext&&(this.audioContext=new AudioContext,this.initializeAudioStructure(),this.cascadeHueToAudioNodes(),this.cascadeLightnessToAudioNodes(),this.cascadeSaturationToAudioNodes(),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,o=t;i<o.length;i++){var r=o[i];null!==r&&(r.oscillators.square.start(),r.oscillators.sawtooth.start(),r.oscillators.sine.start())}}(this.baseFrequencyChain,this.thirdFrequencyChain,this.fifthFrequencyChain),null!==this.lfoChain&&this.lfoChain.oscillator.start()),this.audioContext.resume()}},{key:"pause",value:function(){null!==this.audioContext&&this.audioContext.suspend()}},{key:"changeHue",value:function(e){this.hue=e%360,this.cascadeHueToAudioNodes()}},{key:"changeSaturation",value:function(e){this.saturation=e,this.cascadeSaturationToAudioNodes()}},{key:"changeLightness",value:function(e){this.lightness=e,this.cascadeLightnessToAudioNodes()}},{key:"changeVolume",value:function(e){this.overallVolumeGain=p(e,0,1),null!==this.audioContext&&null!==this.overallVolumeGainNode&&this.structureInitialized&&this.overallVolumeGainNode.gain.setValueAtTime(this.overallVolumeGain,this.audioContext.currentTime)}},{key:"changeReverbIntensity",value:function(e){this.reverbGain=p(e,0,1),null!==this.audioContext&&null!==this.reverbChain&&this.structureInitialized&&k(this.reverbChain.wetGain,this.reverbChain.dryGain,this.reverbGain,this.audioContext.currentTime)}},{key:"changeLfoIntensity",value:function(e){this.lfoGain=p(e,0,1),null!==this.audioContext&&null!==this.lfoChain&&this.structureInitialized&&k(this.lfoChain.oscillatorGain,this.lfoChain.constantGain,this.lfoGain,this.audioContext.currentTime)}},{key:"changeLfoFrequency",value:function(e){this.lfoFrequency=p(e,1,30),null!==this.audioContext&&null!==this.lfoChain&&this.structureInitialized&&this.lfoChain.oscillator.frequency.setValueAtTime(this.lfoFrequency,this.audioContext.currentTime)}}]),e}();var V=function(){var e=w((function(e){return e.color.hue})),t=w((function(e){return e.color.saturation})),n=w((function(e){return e.color.lightness})),o=Object(i.useRef)(new M(e,t,n)),r=Object(i.useState)(!1),a=Object(x.a)(r,2),s=a[0],c=a[1],u=Object(i.useState)(!1),l=Object(x.a)(u,2),h=l[0],d=l[1],f=Object(i.useState)(10),v=Object(x.a)(f,2),m=v[0],b=v[1],j=Object(i.useState)(0),g=Object(x.a)(j,2),y=g[0],p=g[1],O=Object(i.useState)(25),L=Object(x.a)(O,2),q=L[0],T=L[1],A=Object(i.useState)(15),G=Object(x.a)(A,2),N=G[0],S=G[1];Object(i.useEffect)((function(){o.current.changeHue(e)}),[e]),Object(i.useEffect)((function(){o.current.changeSaturation(t)}),[t]),Object(i.useEffect)((function(){o.current.changeLightness(n)}),[n]);var F=function(e){e.stopPropagation()};return Object(C.jsxs)("div",{id:"audioPanel",className:n<=30?"dark-contrast":"light-contrast",onMouseDown:F,onTouchStart:F,children:[Object(C.jsxs)("div",{className:"settingBlock",children:[s&&Object(C.jsxs)("button",{type:"button",onClick:function(e){return h?o.current.pause():o.current.play(),d(!h),e.preventDefault(),e.stopPropagation(),!1},children:[Object(C.jsx)("svg",{className:"feather",children:Object(C.jsx)("use",{href:"/hex-grid/assets/feather/feather-sprite.svg#"+(h?"pause":"play")})}),h?"Pause":"Play"]}),Object(C.jsxs)("button",{type:"button",onClick:function(e){return c(!s),e.preventDefault(),e.stopPropagation(),!1},children:[Object(C.jsx)("svg",{className:"feather",children:Object(C.jsx)("use",{href:"/hex-grid/assets/feather/feather-sprite.svg#"+(s?"minimize-2":"maximize-2")})}),s?"Hide Audio":"Show Audio"]})]}),s&&Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"settingBlock",children:[Object(C.jsx)("label",{htmlFor:"audioVolume",children:"Volume"}),Object(C.jsx)("input",{type:"range",id:"audioVolume",min:"0",max:"100",step:"1",value:m,onInput:function(e){var t=parseInt(e.target.value,10);b(t),o.current.changeVolume(t/100)}})]}),Object(C.jsxs)("div",{className:"settingBlock",children:[Object(C.jsx)("label",{htmlFor:"audioReverb",children:"Reverb"}),Object(C.jsx)("input",{type:"range",id:"audioReverb",min:"0",max:"100",step:"1",value:y,onInput:function(e){var t=parseInt(e.target.value,10);p(t),o.current.changeReverbIntensity(t/100)}})]}),Object(C.jsxs)("div",{className:"settingBlock",children:[Object(C.jsx)("label",{htmlFor:"audioLfoIntensity",children:"Wobble Intensity"}),Object(C.jsx)("input",{type:"range",id:"audioLfoIntensity",min:"0",max:"100",step:"1",value:q,onInput:function(e){var t=parseInt(e.target.value,10);T(t),o.current.changeLfoIntensity(t/100)}})]}),Object(C.jsxs)("div",{className:"settingBlock",children:[Object(C.jsx)("label",{htmlFor:"audioLfoFrequency",children:"Wobble Frequency"}),Object(C.jsx)("input",{type:"range",id:"audioLfoFrequency",min:"1",max:"30",step:"1",value:N,onInput:function(e){var t=parseInt(e.target.value,10);S(t),o.current.changeLfoFrequency(t)}})]})]})]})};var E=function(){var e=w((function(e){return e.color.hue})),t=w((function(e){return e.color.saturation})),n=w((function(e){return e.color.lightness}));return Object(i.useEffect)((function(){var i,o="hsl(".concat(e,", ").concat(t,"%, ").concat(n,"%)");null===(i=document.querySelector('meta[name="theme-color"]'))||void 0===i||i.setAttribute("content",o);var r=document.createElement("canvas");r.setAttribute("width","64px"),r.setAttribute("height","64px");var a=r.getContext("2d",{alpha:!0,desynchronized:!0});if(a){var s,c=new Path2D;c.moveTo(16,8),c.lineTo(48,8),c.lineTo(60,32),c.lineTo(48,56),c.lineTo(16,56),c.lineTo(4,32),c.closePath(),a.fillStyle=o,a.fill(c);var u=r.toDataURL("image/png");null===(s=document.querySelector('link[rel="icon"]'))||void 0===s||s.setAttribute("href",u)}r.remove()}),[e,t,n]),null};var I=function(){var e=w((function(e){return e.color.hue}));return Object(C.jsxs)("svg",{viewBox:"0 0 512 512",children:[Object(C.jsx)("path",{d:"M140.554,342.052L156.154,369.072L90.585,351.503L108.154,285.933L123.754,312.953L373.169,168.953L357.569,141.933L423.138,159.503L405.569,225.072L389.969,198.052L140.554,342.052Z",fill:"url(#_Lightness)"}),Object(C.jsx)("path",{d:"M239.2,112L208,112L256,64L304,112L272.8,112L272.8,400L304,400L256,448L208,400L239.2,400L239.2,112Z",fill:"url(#_Saturation)"}),Object(C.jsx)("path",{d:"M126.108,200.406L110.508,227.426L92.939,161.856L158.508,144.287L142.908,171.307L392.323,315.307L407.923,288.287L425.492,353.856L359.923,371.426L375.523,344.406L126.108,200.406Z",fill:"url(#_Hue)"}),Object(C.jsxs)("defs",{children:[Object(C.jsxs)("linearGradient",{id:"_Lightness",x1:"0",y1:"0",x2:"1",y2:"0",gradientTransform:"rotate(-30 0.5 0.5)",children:[Object(C.jsx)("stop",{offset:"0",style:{stopColor:"hsl(".concat(e,",70%,0%)")}}),Object(C.jsx)("stop",{offset:"0.5",style:{stopColor:"hsl(".concat(e,",70%,50%)")}}),Object(C.jsx)("stop",{offset:"1",style:{stopColor:"hsl(".concat(e,",70%,100%)")}})]}),Object(C.jsxs)("linearGradient",{id:"_Hue",x1:"1",y1:"0",x2:"0",y2:"0",gradientTransform:"rotate(30 0.5 0.5)",children:[Object(C.jsx)("stop",{offset:"0",style:{stopColor:"hsl(".concat(e-120,",70%,50%)")}}),Object(C.jsx)("stop",{offset:"0.25",style:{stopColor:"hsl(".concat(e-60,",70%,50%)")}}),Object(C.jsx)("stop",{offset:"0.5",style:{stopColor:"hsl(".concat(e,",70%,50%)")}}),Object(C.jsx)("stop",{offset:"0.75",style:{stopColor:"hsl(".concat(e+60,",70%,50%)")}}),Object(C.jsx)("stop",{offset:"1",style:{stopColor:"hsl(".concat(e+120,",70%,50%)")}})]}),Object(C.jsxs)("linearGradient",{id:"_Saturation",x1:"0",y1:"0",x2:"1",y2:"0",gradientTransform:"rotate(-90 0.5 0.5)",children:[Object(C.jsx)("stop",{offset:"0",style:{stopColor:"hsl(".concat(e,",0%,50%)")}}),Object(C.jsx)("stop",{offset:"0.5",style:{stopColor:"hsl(".concat(e,",50%,50%)")}}),Object(C.jsx)("stop",{offset:"1",style:{stopColor:"hsl(".concat(e,",100%,50%)")}})]})]})]})};n(37);var z=function(){var e=Object(s.b)(),t=w((function(e){return e.hexGrid.baseHexSize})),n=Object(i.useState)(!1),o=Object(x.a)(n,2),r=o[0],a=o[1],c=Object(i.useRef)(0),u=Object(i.useRef)(0);return Object(i.useEffect)((function(){var t=function(){a(!1),e({type:"hexGrid/resize"})};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[e]),Object(i.useEffect)((function(){var t=function(t){switch(t.code){case"Numpad8":case"ArrowUp":e({type:"color/adjustSaturation",payload:1});break;case"Numpad2":case"ArrowDown":e({type:"color/adjustSaturation",payload:-1});break;case"Numpad6":case"ArrowRight":e({type:"color/adjustHue",payload:1});break;case"Numpad4":case"ArrowLeft":e({type:"color/adjustHue",payload:-1});break;case"NumpadAdd":case"Equal":e({type:"color/adjustLightness",payload:1});break;case"NumpadSubtract":case"Minus":e({type:"color/adjustLightness",payload:-1})}};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[e]),Object(i.useEffect)((function(){var e=function(e){if(!r){var t,n;if("touchstart"===e.type){var i=e;if(1!==i.touches.length)return;t=i.touches[0].clientX,n=i.touches[0].clientY}else{if("mousedown"!==e.type)return;var o=e;t=o.clientX,n=o.clientY}a(!0),c.current=t,u.current=n,console.log("pan start: (".concat(t,", ").concat(n,")"))}};return window.addEventListener("touchstart",e),window.addEventListener("mousedown",e),function(){window.removeEventListener("touchstart",e),window.removeEventListener("mousedown",e)}}),[e,r]),Object(i.useEffect)((function(){var n=function(n){if(r){var i,o,a;if("touchmove"===n.type){var s=n;if(1!==s.touches.length)return;a=!0,i=s.touches[0].clientX,o=s.touches[0].clientY}else{if("mousemove"!==n.type)return;var l=n;a=!1,i=l.clientX,o=l.clientY}var h=a?10:5,d=i-c.current,f=o-u.current,v=Math.sqrt(Math.pow(d,2)+Math.pow(f,2));if(v>=2*t){var m=180*Math.atan2(-f/v,d/v)/Math.PI;m<0&&(m+=360),console.log("pan threshold met (angle: ".concat(m,")")),e(m<=60?{type:"color/adjustLightness",payload:h}:m<=120?{type:"color/adjustSaturation",payload:h}:m<=180?{type:"color/adjustHue",payload:2*h}:m<=240?{type:"color/adjustLightness",payload:-h}:m<=300?{type:"color/adjustSaturation",payload:-h}:{type:"color/adjustHue",payload:2*-h}),c.current=i,u.current=o,a&&"vibrate"in navigator&&navigator.vibrate(40)}n.preventDefault(),n.stopPropagation()}};return window.addEventListener("touchmove",n),window.addEventListener("mousemove",n),function(){window.removeEventListener("touchmove",n),window.removeEventListener("mousemove",n)}}),[e,t,r]),Object(i.useEffect)((function(){var e=function(){r&&console.log("pan end"),a(!1)};return window.addEventListener("touchend",e),window.addEventListener("touchcancel",e),window.addEventListener("mouseup",e),function(){window.removeEventListener("touchend",e),window.removeEventListener("touchcancel",e),window.removeEventListener("mouseup",e)}}),[r]),Object(C.jsxs)("div",{style:{cursor:r?"grabbing":"grab"},children:[Object(C.jsx)("div",{className:"dragOverlay",children:r&&Object(C.jsx)(I,{})}),Object(C.jsx)(L,{}),Object(C.jsx)(V,{}),Object(C.jsx)(E,{}),!1]})};a.a.render(Object(C.jsx)(o.a.StrictMode,{children:Object(C.jsx)(s.a,{store:g,children:Object(C.jsx)(z,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.cfa090a5.chunk.js.map